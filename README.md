# Sudoku Game - Final Project

## Опис проєкту

Цей проєкт представляє повнофункціональну гру Судоку, розроблену на C# з використанням WinForms. Гра включає в себе генерацію головоломок різної складності, інтерактивний інтерфейс користувача, збереження та завантаження ігор, а також систему перевірки правильності розв'язання.

## Функціональність

### Основні можливості:
- **Генерація головоломок**: Автоматичне створення Судоку різних рівнів складності (Easy, Medium, Hard, Expert)
- **Інтерактивний інтерфейс**: Зручна сітка 9x9 з виділенням помилок
- **Система рівнів складності**: 4 рівні складності з різною кількістю заповнених клітинок
- **Валідація ходів**: Перевірка правильності введених значень згідно правил Судоку
- **Збереження/Завантаження**: Можливість зберегти поточну гру та продовжити пізніше
- **Таймер та статистика**: Відстеження часу гри та кількості помилок
- **Автоперевірка**: Автоматичне визначення завершення гри

### Технічні особливості:
- **Архітектура**: Використання патернів MVC та Repository
- **Збереження даних**: JSON формат для збереження стану гри
- **Валідація**: Перевірка правил Судоку в реальному часі
- **UI/UX**: Інтуїтивно зрозумілий інтерфейс з кольоровим кодуванням

## Процес запуску

### Вимоги:
- .NET Framework 4.7.2 або вище / .NET 6.0+
- Visual Studio 2019+ або будь-яка IDE з підтримкою C#
- Windows OS (для WinForms)

### Кроки запуску:
1. Клонуйте репозиторій: `git clone []`
2. Відкрийте проєкт у Visual Studio
3. Переконайтеся, що всі NuGet пакети встановлені
4. Зберіть проєкт (Build → Build Solution)
5. Запустіть проєкт (F5 або Debug → Start Debugging)

### Структура проєкту:
```
SudokuGame/
├── Models/
│   ├── SudokuGrid.cs           # Основна модель ігрового поля
│   └── GameState.cs            # Стан гри та налаштування
├── Services/
│   ├── ISudokuGenerator.cs     # Інтерфейс генератора
│   ├── SudokuGenerator.cs      # Генерація головоломок
│   ├── IGameManager.cs         # Інтерфейс менеджера гри
│   └── GameManager.cs          # Управління логікою гри
├── UI/
│   └── SudokuCell.cs          # Кастомний контрол клітинки
├── MainForm.cs                 # Головна форма додатку
└── Program.cs                  # Точка входу
```
![image](https://github.com/user-attachments/assets/dcff6187-0f4c-49e9-be22-4a0f83a35ba7)
Вигляд гри
![image](https://github.com/user-attachments/assets/c7c4a419-671e-44f3-8e60-e58a7b20d89e)
Збереження
![image](https://github.com/user-attachments/assets/d18001a1-9431-49ab-bd48-215b6bd90e94)
Рівні гри


## Programming Principles

### 1. Single Responsibility Principle (SRP)
Кожен клас має одну відповідальність:
- `SudokuGrid` - управління ігровим полем та валідація
- `GameManager` - управління станом гри
- `SudokuGenerator` - генерація головоломок
- `SudokuCell` - відображення та взаємодія з окремою клітинкою

### 2. Open/Closed Principle (OCP)
Класи відкриті для розширення, але закриті для модифікації:
- Інтерфейси `ISudokuGenerator` та `IGameManager` дозволяють легко замінити реалізації
- Enum `DifficultyLevel` легко розширюється новими рівнями

### 3. Liskov Substitution Principle (LSP)
Всі реалізації інтерфейсів можуть бути замінені без порушення функціональності:
- `SudokuGenerator` може бути замінений будь-якою іншою реалізацією `ISudokuGenerator`

### 4. Interface Segregation Principle (ISP)
Інтерфейси розділені за функціональністю:
- `ISudokuGenerator` відповідає тільки за генерацію
- `IGameManager` відповідає тільки за управління грою

### 5. Dependency Inversion Principle (DIP)
Високорівневі модулі не залежать від низькорівневих:
- `GameManager` залежить від абстракції `ISudokuGenerator`, а не від конкретної реалізації
- `MainForm` використовує `IGameManager` інтерфейс

### 6. Don't Repeat Yourself (DRY)
Код не повторюється:
- Методи валідації використовуються повторно
- Логіка перевірки винесена в окремі методи

### 7. Keep It Simple, Stupid (KISS)
Код написаний просто та зрозуміло:
- Зрозумілі назви методів та змінних
- Проста структура класів

## Design Patterns

### 1. Strategy Pattern
**Файл**: `Services/ISudokuGenerator.cs`, `Services/SudokuGenerator.cs`  
**Призначення**: Дозволяє легко змінювати алгоритм генерації головоломок. Можна створити різні стратегії генерації (наприклад, для різних рівнів складності).

### 2. Facade Pattern
**Файл**: `Services/GameManager.cs`  
**Призначення**: `GameManager` надає простий інтерфейс для складної логіки управління грою, приховуючи деталі роботи з `SudokuGrid` та `SudokuGenerator`.

### 3. Observer Pattern
**Файл**: `UI/SudokuCell.cs`  
**Призначення**: `SudokuCell` використовує події (`CellValueChanged`) для повідомлення `MainForm` про зміни, що дозволяє слабке зв'язування компонентів.

### 4. Template Method Pattern
**Файл**: `Models/SudokuGrid.cs` (методи валідації)  
**Призначення**: Метод `IsValidGrid()` визначає загальний алгоритм перевірки, використовуючи конкретні методи для перевірки рядків, стовпців та блоків.

### 5. Factory Method Pattern (неявно)
**Файл**: `Services/SudokuGenerator.cs`  
**Призначення**: Метод `GeneratePuzzle()` створює різні типи головоломок в залежності від параметра складності.

## Refactoring Techniques

### 1. Extract Method
Винесення складної логіки в окремі методи:
- `IsValidUnit()` - винесена з `IsValidGrid()`
- `GetRow()`, `GetColumn()`, `GetBox()` - винесені для покращення читабельності

### 2. Extract Class
Виділення окремих відповідальностей в класи:
- `GameState` - виділено з `GameManager` для управління станом
- `SudokuCell` - виділено з `MainForm` для інкапсуляції логіки клітинки

### 3. Rename Method/Variable
Перейменування для покращення зрозумілості:
- Всі методи та змінні мають описові назви
- Приватні поля починаються з підкреслення

### 4. Replace Magic Numbers with Constants
Замість магічних чисел використовуються enum та константи:
- `DifficultyLevel` enum замість числових значень
- Розміри сітки (9x9) винесені як константи

### 5. Encapsulate Field
Інкапсуляція полів за допомогою властивостей:
- Поля класів зроблені приватними з публічними властивостями

### 6. Replace Constructor with Factory Method
Використання статичних методів для створення об'єктів:
- Методи генерації в `SudokuGenerator`

### 7. Consolidate Conditional Expression
Об'єднання умовних виразів:
- Логіка валідації об'єднана в методи перевірки

### 8. Replace Type Code with Polymorphism
Використання enum замість числових кодів:
- `DifficultyLevel` enum замість числових значень складності

## Структура файлів та директорій

```
SudokuGame/
├── Models/                     # Моделі даних
│   ├── SudokuGrid.cs          # Модель ігрового поля
│   └── GameState.cs           # Стан гри
├── Services/                   # Бізнес-логіка
│   ├── ISudokuGenerator.cs    # Інтерфейс генератора
│   ├── SudokuGenerator.cs     # Генерація головоломок
│   ├── IGameManager.cs        # Інтерфейс менеджера
│   └── GameManager.cs         # Управління грою
├── UI/                        # Компоненти інтерфейсу
│   └── SudokuCell.cs         # Кастомна клітинка
├── MainForm.cs               # Головна форма
├── MainForm.Designer.cs      # Дизайнер форми
└── Program.cs               # Точка входу
```

## Git Workflow

Проєкт розробляється з використанням Git Flow:

### Гілки:
- `main` - стабільна версія


### Pull Request процес:
1. Створення feature гілки
2. Розробка функціональності
3. Створення PR в develop
4. Code review
5. Merge після схвалення

## Тестування

Проєкт включає unit тести для основних компонентів:
- Тести валідації `SudokuGrid`
- Тести генерації головоломок
- Тести логіки гри

## Розширення функціональності

Можливі покращення:
- Додавання підказок (hints)
- Система рейтингів
- Мультиплеєр режим
- Різні варіанти Судоку (16x16, неправильні форми)
- Експорт в PDF

## Автор

[Пилипчук Маргарита Сергіївна]  
[ІПЗ-23-3]  
[27.05.2025]
